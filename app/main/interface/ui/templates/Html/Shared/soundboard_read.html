{% extends 'Html/base.html' %}
{% load Playlist %}
{% load SoundBoard %}
{% load FrontJs %}
{% load static %}

{% block javascript %}
{{ block.super }}
<script type="module" src="{% static " SoundboardPlayer"|search_true_file %}"></script>
{% endblock javascript %}

{% block content %}

<div class="row">
    <div class="col-12 fullScreen-element">
        <div class="float-end"><button class="btn btn-sm btn-secondary" id="shared-custom-volume-button"><i class="fa-solid fa-volume-low"></i></button></div>
        <h4 id="soundboard-name">{{ soundboard | get_name }}</h4>
    </div>
    <div class="col-12">
        <div style="display:None;" id="players"></div>
        <div style="display:None;" id="active-WS" data-url="{{ ws_url }}"></div>

        <div class="d-none">
            {% include 'Html/partial/soundboard/mixer.html' with PlaylistTypeEnum=PlaylistTypeEnum%}
        </div>

        {% include 'Html/partial/soundboard/board.html' with master=False owner=False soundboard=soundboard %}

        <div class="alert alert-info mt-3 text-sm" role="alert">
            L'application est synchonisé avec le soundboard du maitre du jeu. <br />
            C'est lui qui controle la lecture des musiques. vous pouvez mettre cette page en arrière plan et profiter de l'ambiance sonore.
        </div>

        <div class="responsive-sections-container">
            {% for section, list_playlist in soundboard.get_list_playlist_playable_ordered %}
            <section class="section-{{ section }}">
                <div class="section-content">
                    <div class="flex-container">
                        {% for playlist in list_playlist %}
                        <div class="playlist-link playlist-element playlist-user-playable flex-item playlist-dim-{{ playlist_dim }} m-1" id="playlist-{{ playlist.uuid }}" style="background-color: {{playlist.get_color}};color: {{playlist.get_color_text}};" data-playlist-uri=""
                            {% for key, value in playlist.get_data_set.items %} data-playlist-{{ key }}="{{ value }}" {% endfor %} data-id="{{ playlist.uuid }}">
                            {{ playlist | applys_playlist_content}}
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </section>
            {% endfor %}
        </div>





    </div>
</div>

{% endblock %}