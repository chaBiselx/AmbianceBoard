#!/bin/bash

# Script de d√©monstration SonarQube
# Analyse les fichiers cr√©√©s pour la d√©mo

echo "================================================"
echo "  D√©monstration SonarQube - AmbianceBoard"
echo "================================================"
echo ""

echo "üìä Fichiers de d√©monstration cr√©√©s :"
echo ""

echo "Python (Backend) :"
echo "  ‚úì security_vulnerabilities.py   - Failles de s√©curit√© (20+)"
echo "  ‚úì code_duplication_1.py         - Code dupliqu√© (partie 1)"
echo "  ‚úì code_duplication_2.py         - Code dupliqu√© (partie 2)"
echo "  ‚úì high_complexity.py            - Complexit√© √©lev√©e (>150)"
echo "  ‚úì code_smells.py                - Code smells & TODOs (32+)"
echo "  ‚úì bugs_and_errors.py            - Bugs potentiels (40+)"
echo "  ‚úì performance_issues.py         - Probl√®mes de performance (25+)"
echo "  ‚úì mixed_issues.py               - Probl√®mes vari√©s (40+)"
echo "  ‚úì legacy_issues.py              - Dette technique (35+)"
echo ""

echo "TypeScript/JavaScript (Frontend) :"
echo "  ‚úì demo_sonar_issues.ts          - Probl√®mes JS/TS (45+)"
echo "  ‚úì more_sonar_issues.ts          - Plus de probl√®mes JS (35+)"
echo ""

echo "================================================"
echo "  R√©sum√© des Probl√®mes Attendus"
echo "================================================"
echo ""
echo "üî¥ Bugs                    : 80+"
echo "üü† Vulnerabilities         : 50+ (Critical/High)"
echo "üü° Code Smells             : 150+"
echo "üîµ Security Hotspots       : 30+"
echo "üìä Duplication             : 15-20%"
echo "‚ö° Complexit√©              : Plusieurs >50"
echo "üí∞ Dette Technique         : Plusieurs jours"
echo "üìù TODOs/FIXMEs            : 60+"
echo ""

echo "================================================"
echo "  Types de Probl√®mes Inclus"
echo "================================================"
echo ""
echo "S√©curit√© :"
echo "  ‚Ä¢ SQL Injection"
echo "  ‚Ä¢ Command Injection"
echo "  ‚Ä¢ XSS (Cross-Site Scripting)"
echo "  ‚Ä¢ Hardcoded Credentials"
echo "  ‚Ä¢ Weak Cryptography (MD5)"
echo "  ‚Ä¢ eval()/exec() usage"
echo "  ‚Ä¢ Unsafe Deserialization (Pickle, YAML)"
echo "  ‚Ä¢ XXE Vulnerability"
echo "  ‚Ä¢ Path Traversal"
echo "  ‚Ä¢ LDAP Injection"
echo "  ‚Ä¢ SSL Verification Disabled"
echo "  ‚Ä¢ ReDoS (Regular Expression DoS)"
echo ""

echo "Qualit√© du Code :"
echo "  ‚Ä¢ Complexit√© Cyclomatique √âlev√©e"
echo "  ‚Ä¢ Duplication de Code"
echo "  ‚Ä¢ Fonctions trop longues"
echo "  ‚Ä¢ Trop de param√®tres"
echo "  ‚Ä¢ God Classes"
echo "  ‚Ä¢ Magic Numbers"
echo "  ‚Ä¢ Code Mort (Dead Code)"
echo "  ‚Ä¢ Variables Inutilis√©es"
echo "  ‚Ä¢ TODOs/FIXMEs non r√©solus"
echo ""

echo "Bugs Potentiels :"
echo "  ‚Ä¢ Division par z√©ro"
echo "  ‚Ä¢ Null Pointer Exceptions"
echo "  ‚Ä¢ Index Out of Range"
echo "  ‚Ä¢ Boucles Infinies"
echo "  ‚Ä¢ Race Conditions"
echo "  ‚Ä¢ Memory Leaks"
echo "  ‚Ä¢ Exception Handling incorrect"
echo ""

echo "Performance :"
echo "  ‚Ä¢ Algorithmes O(n¬≤)"
echo "  ‚Ä¢ N+1 Queries"
echo "  ‚Ä¢ Pas de Cache"
echo "  ‚Ä¢ Import dans boucles"
echo "  ‚Ä¢ String concatenation inefficace"
echo ""

echo "================================================"
echo "  Commandes pour l'Analyse"
echo "================================================"
echo ""
echo "Si vous avez SonarQube install√© localement :"
echo ""
echo "  # Avec sonar-scanner"
echo "  sonar-scanner \\"
echo "    -Dsonar.projectKey=AmbianceBoard-Demo \\"
echo "    -Dsonar.sources=app/main/application,frontend/src \\"
echo "    -Dsonar.host.url=http://localhost:9000 \\"
echo "    -Dsonar.login=YOUR_TOKEN"
echo ""
echo "  # Avec Maven (si applicable)"
echo "  mvn sonar:sonar"
echo ""
echo "  # Avec Gradle (si applicable)"
echo "  gradle sonarqube"
echo ""

echo "================================================"
echo "  Points Cl√©s pour la Pr√©sentation"
echo "================================================"
echo ""
echo "1. Dashboard Overview"
echo "   ‚Üí Montrer les m√©triques globales"
echo ""
echo "2. Security Vulnerabilities"
echo "   ‚Üí SQL Injection, Hardcoded Secrets, etc."
echo ""
echo "3. Code Smells"
echo "   ‚Üí Complexit√©, Duplication, TODOs"
echo ""
echo "4. Bugs D√©tect√©s"
echo "   ‚Üí Division par z√©ro, Null pointers"
echo ""
echo "5. Technical Debt"
echo "   ‚Üí Temps estim√© pour corriger"
echo ""
echo "6. Code Coverage (si tests)"
echo "   ‚Üí Pourcentage de couverture"
echo ""
echo "7. Duplications"
echo "   ‚Üí Visualisation des blocs dupliqu√©s"
echo ""
echo "8. Complexity"
echo "   ‚Üí Fonctions avec complexit√© >15"
echo ""

echo "================================================"
echo "  ‚ö†Ô∏è  AVERTISSEMENT"
echo "================================================"
echo ""
echo "Ce code contient VOLONTAIREMENT des probl√®mes"
echo "de s√©curit√© et de qualit√© pour la d√©monstration."
echo ""
echo "NE JAMAIS utiliser ce code en production !"
echo "NE PAS copier ces patterns dans vos projets !"
echo ""
echo "================================================"
echo ""

echo "‚úÖ Pr√™t pour la d√©monstration SonarQube !"
echo ""
